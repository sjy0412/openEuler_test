"use strict";(self["webpackChunkopeneuler_test"]=self["webpackChunkopeneuler_test"]||[]).push([[463],{5266:function(e,t,l){l.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[t("el-popover",{attrs:{"visible-arrow":!1,width:"120px",placement:"bottom-end",trigger:"click","popper-class":"filter-table"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("el-checkbox-group",{staticClass:"filter-top",on:{change:e.handleChoose},model:{value:e.filterVal,callback:function(t){e.filterVal=t},expression:"filterVal"}},e._l(e.selectOption,(function(e){return t("el-checkbox",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1),t("div",{staticClass:"el-table-filter_bottom"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.filterTable}},[e._v(" 确认 ")]),t("el-button",{attrs:{type:"default",size:"small"},on:{click:e.cancel}},[e._v(" 重置 ")])],1),t("el-button",{staticClass:"setting",attrs:{slot:"reference",size:"mini",icon:"el-icon-setting"},slot:"reference"})],1)],1)},i=[],r={name:"FilterTable",props:["selectOption","filterSelected","headerInit"],data(){return{filterVal:[],visible:!1,filterChoose:[]}},created(){this.filterVal=this.filterSelected},watch:{filterSelected(e){this.filterSelected=e,this.filterVal=e,this.filterChoose=e}},methods:{handleChoose(e){this.filterChoose=e},filterTable(){this.$emit("handleFilter",this.filterChoose),this.visible=!1},cancel(){this.filterVal=this.headerInit,this.filterChoose=this.headerInit,this.filterTable()}}},o=r,s=l(1001),n=(0,s.Z)(o,a,i,!1,null,"fee41970",null),c=n.exports},9882:function(e,t,l){l.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[t("el-popover",{attrs:{"visible-arrow":!1,width:"120px",placement:"bottom-start",trigger:"click","popper-class":"filter-table"},model:{value:e.isShowFilter,callback:function(t){e.isShowFilter=t},expression:"isShowFilter"}},[t("el-checkbox-group",{on:{change:e.handleChoose},model:{value:e.filterVal,callback:function(t){e.filterVal=t},expression:"filterVal"}},[e._l(e.selectOption,(function(e){return t("el-checkbox",{key:e.value,attrs:{label:e.label,value:e.value}})})),t("div",{staticClass:"el-table-filter_bottom"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.filterTable}},[e._v(" 确认 ")]),t("el-button",{attrs:{type:"default",size:"small"},on:{click:e.cancel}},[e._v(" 重置 ")])],1)],2),t("p",{staticClass:"table-header",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.headerLabel)+" "),0===e.filterSelected.length?t("img",{attrs:{src:l(2113),alt:""}}):t("img",{attrs:{src:l(3341),alt:""}})])],1)],1)},i=[],r={name:"FilterTable",props:["selectOption","headerLabel","filterSelected","filterKey"],data(){return{filterVal:[],isShowFilter:!1,filterChoose:[]}},created(){this.filterVal=this.getSelected()},watch:{filterSelected(e){console.log(e),this.filterSelected=e,this.filterVal=e,this.filterChoose[this.filterKey]=e}},methods:{handleChoose(e){this.filterChoose[this.filterKey]=e},getSelected(){let e=[];return this.filterVal.forEach((t=>{this.selectOption.forEach((l=>{t===l.value&&e.push(l.value)}))})),e},filterTable(){this.$emit("handleFilter",this.filterChoose),this.isShowFilter=!1},cancel(){this.filterVal=[],this.filterChoose[this.filterKey]=[],this.filterTable()}}},o=r,s=l(1001),n=(0,s.Z)(o,a,i,!1,null,"f8f8662c",null),c=n.exports},2463:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});l(6699);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"taskList-box"},[t("div",{staticClass:"list-box"},[t("div",{staticClass:"search-box"},[t("div",[t("el-button",{attrs:{type:"primary"},on:{click:e.addPerson}},[e._v("添加人员")]),t("el-button",{attrs:{disabled:0===e.multipleSelection.length},on:{click:e.handelMulDelete}},[e._v("批量删除")])],1),t("div",{staticClass:"task-search"},[t("el-input",{attrs:{type:"text",placeholder:"请输入搜索内容",clearable:"","prefix-icon":"el-icon-search"},on:{change:e.searchData},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("FilterHeader",{attrs:{selectOption:e.headerLabel,headerInit:e.headerInit,filterSelected:e.headerSelected},on:{handleFilter:e.filterHeader}})],1)]),e.chooseList.length>0?t("div",{staticClass:"filter-list"},[t("span",{staticClass:"found"},[e._v(" 已找到 "),t("el-tag",{staticStyle:{"margin-left":"5px",color:"#252b3a"},attrs:{type:"round",size:"small"}},[e._v(" "+e._s(e.pagination.total)+" ")]),e._v(" : ")],1),e._l(e.chooseList,(function(l,a){return t("el-tooltip",{key:a,staticClass:"item",attrs:{effect:"light",content:l.value,placement:"top"}},[t("el-tag",{attrs:{type:"info",closable:""},on:{close:function(t){return e.handleClose(l)}}},[e._v(" "+e._s(l.value)+" ")])],1)})),t("span",{staticClass:"clear-all",on:{click:function(t){return e.clearAll()}}},[e._v("全部清除")])],2):e._e(),t("div",{staticClass:"task-table"},[t("el-table",{ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"light tooltip-end",resizable:"",border:""},on:{"filter-change":e.filterChange,"selection-change":e.handleSelectionChange}},[t("template",{slot:"empty"},[t("img",{attrs:{src:l(5719)}})]),t("el-table-column",{attrs:{type:"selection",width:"30"}}),t("el-table-column",{attrs:{prop:"name",label:e.headerLabel[0].label}}),e.headerSelected.includes(e.headerLabel[1].label)?t("el-table-column",{attrs:{prop:"workNum",label:e.headerLabel[1].label,"show-overflow-tooltip":""}}):e._e(),e.headerSelected.includes(e.headerLabel[2].label)?t("el-table-column",{attrs:{prop:"testOrganization","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.testOrganization,headerLabel:e.headerLabel[2].label,filterSelected:e.filterSelected.testOrganization,filterKey:"testOrganization"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,2424874749)}):e._e(),e.headerSelected.includes(e.headerLabel[3].label)?t("el-table-column",{attrs:{prop:"role","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.role,headerLabel:e.headerLabel[3].label,filterSelected:e.filterSelected.role,filterKey:"role"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,3182884933)}):e._e(),e.headerSelected.includes(e.headerLabel[4].label)?t("el-table-column",{attrs:{prop:"group",label:e.headerLabel[4].label,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.group,headerLabel:e.headerLabel[4].label,filterSelected:e.filterSelected.group,filterKey:"group"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,440077001)}):e._e(),e.headerSelected.includes(e.headerLabel[5].label)?t("el-table-column",{attrs:{prop:"phone",label:e.headerLabel[5].label,"show-overflow-tooltip":""}}):e._e(),e.headerSelected.includes(e.headerLabel[6].label)?t("el-table-column",{attrs:{prop:"email",label:e.headerLabel[6].label,"show-overflow-tooltip":""}}):e._e(),e.headerSelected.includes(e.headerLabel[7].label)?t("el-table-column",{attrs:{prop:"operate",label:e.headerLabel[7].label,minWidth:"120","column-key":"ope","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",{staticClass:"opera-btn"},[t("button",{on:{click:function(t){return e.handleDelete(l.$index,l.row)}}},[e._v(" 删除 ")]),t("button",{on:{click:function(t){return e.handelEdit(l.$index,l.row)}}},[e._v("编辑")])])]}}],null,!1,3581129790)}):e._e()],2),t("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pageSizes,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),t("el-dialog",{attrs:{title:"添加人员",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("Dialog"),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")]),t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},i=[],r=l(9882),o=l(5266),s=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"form",attrs:{model:e.form,"label-position":"left","label-width":"80px"}},[t("el-form-item",{attrs:{label:"测试机构"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.testOrganization,callback:function(t){e.$set(e.form,"testOrganization",t)},expression:"form.testOrganization"}},e._l(e.testOptions,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label}})})),1)],1),t("el-form-item",{attrs:{label:"描述"}},[t("el-radio-group",{model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}},[t("el-radio",{attrs:{label:"项目支撑人员",name:"desc"}}),t("el-radio",{attrs:{label:"实验室管理员",name:"desc"}})],1)],1),t("el-form-item",{attrs:{label:"群组"}},[t("el-radio-group",{model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}},[t("el-radio",{attrs:{label:"商业软件",name:"group"}}),t("el-radio",{attrs:{label:"整机与板卡",name:"group"}}),t("el-radio",{attrs:{label:"openEuler商业发行版",name:"group"}})],1)],1),t("el-form-item",{attrs:{label:"成员"}},e._l(e.form.member,(function(l,a){return t("div",{key:a,staticClass:"flex-row"},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:l.name,callback:function(t){e.$set(l,"name",t)},expression:"item.name"}}),t("el-input",{attrs:{placeholder:"请输入工号"},model:{value:l.workNum,callback:function(t){e.$set(l,"workNum",t)},expression:"item.workNum"}}),t("el-input",{attrs:{placeholder:"请输入电话"},model:{value:l.phone,callback:function(t){e.$set(l,"phone",t)},expression:"item.phone"}}),t("el-input",{staticClass:"last-input",attrs:{placeholder:"请输入邮箱"},model:{value:l.email,callback:function(t){e.$set(l,"email",t)},expression:"item.email"}}),t("div",{staticClass:"el-icon"},[e.form.member.length>1?t("i",{staticClass:"el-icon-remove-outline",on:{click:function(t){return e.deleteMember(a)}}}):e._e(),t("i",{staticClass:"el-icon-circle-plus-outline",on:{click:e.addMember}})])],1)})),0)],1)],1)},n=[],c={name:"Dialog",props:["dialogVisible"],data(){return{form:{testOrganization:"",desc:"",group:"",member:[{name:"",workNum:"",phone:"",email:""}]},testOptions:[{label:"北京鲲鹏",value:"北京鲲鹏"}]}},methods:{addMember(){this.form.member.push({name:"",workNum:"",phone:"",email:""})},deleteMember(e){this.form.member.splice(e,1)}}},h=c,d=l(1001),u=(0,d.Z)(h,s,n,!1,null,"00330d65",null),p=u.exports,f={name:"AccountMaintenance",components:{FilterTable:r.Z,FilterHeader:o.Z,Dialog:p},data(){return{keyword:"",dialogVisible:!1,tableData:[{name:"20220711002",workNum:"王小虎",testOrganization:"上海市普陀区金沙江路 1518 弄",role:"等待分配服务器",group:"排队中",phone:" 21.128.12.13",email:"TaiShan200"},{name:"20220711004",workNum:"王小虎",testOrganization:"上海市普陀区金沙江路 1517 弄",role:"测试中",group:"已分配",phone:" 21.128.12.13",email:"TaiShan200"},{name:"20220711001",workNum:"王小虎",testOrganization:"上海市普陀区金沙江路 1519 弄",role:"测试中(第二轮)",group:"测试失败",phone:"1234",email:"TaiShan200"},{name:"20220711003",workNum:"王小虎",testOrganization:"上海市普陀区金沙江路 1520 弄",role:"服务器释放",group:"测试中",phone:" 21.128.12.13",email:"20220711003"},{name:"20220711003",workNum:"王小虎",testOrganization:"上海市普陀区金沙江路 130 弄",role:"服务器释放",group:"待释放",phone:" 21.128.12.13",email:"20220711003"},{name:"20220711003",workNum:"王小虎",testOrganization:"上海市普陀区金沙江路 1516 弄",role:"服务器释放",group:"已释放",phone:"20220711003",email:"20220711003"}],headerLabel:[{label:"姓名",value:"姓名",disabled:!0},{label:"工号",value:"工号",disabled:!1},{label:"测试机构",value:"测试机构",disabled:!1},{label:"角色",value:"角色",disabled:!1},{label:"群组",value:"群组",disabled:!1},{label:"电话",value:"电话",disabled:!1},{label:"邮箱",value:"邮箱",disabled:!1},{label:"操作",value:"操作",disabled:!1}],headerInit:["姓名","工号","测试机构","角色","群组","电话","邮箱","操作"],headerSelected:["姓名","工号","测试机构","角色","群组","电话","邮箱","操作"],filters:{testOrganization:[],role:[],email:[]},filterSelected:{testOrganization:[],role:[],group:[]},chooseList:[],multipleSelection:[],pagination:{total:100,currentPage:1,layout:"total, size, prev, pager, next, jumper",pageSizes:[10,20,30,50],pageSize:10}}},created(){this.tableData.forEach((e=>{this.filters.testOrganization.push({value:e.testOrganization,label:e.testOrganization})})),this.filters.role=[{value:"任务1",label:"任务1"},{value:"任务2",label:"任务2"}],this.filters.group=[{value:"型号1",label:"型号1"},{value:"型号2",label:"型号2"}],this.filters.testOrganization=[{value:"OS1",label:"OS1"},{value:"OS2",label:"OS2"}]},methods:{handleSizeChange(){},handleCurrentChange(){},addPerson(){this.dialogVisible=!0},handleSelectionChange(e){this.multipleSelection=e},handelMulDelete(){},handleDelete(e,t){this.$confirm("账号删除后将不可恢复，确定删除所选账号？","确认删除",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((()=>{this.tableData.splice(e,1),this.$message({type:"success",message:"删除成功!",duration:0,showClose:!0})}))},handleEdit(e){},filterHeader(e){this.headerSelected=e},filterChange(e){if(this.chooseList=this.chooseList.filter((t=>-1===Object.keys(e)[0].indexOf(t.key))),e.testOrganization){if(e.testOrganization.length>0){let t=this.handleFilter(e,"testOrganization");this.chooseList.push(t)}this.filterSelected.testOrganization=e.testOrganization}if(e.role){if(e.role.length>0){let t=this.handleFilter(e,"role");this.chooseList.push(t)}this.filterSelected.role=e.role}if(e.group){if(e.group.length>0){let t=this.handleFilter(e,"group");this.chooseList.push(t)}this.filterSelected.group=e.group}},handleFilter(e,t){let l="";"testOrganization"===t?l="测试机构：":"role"===t?l="角色：":"group"===t&&(l="群组："),e[t].forEach(((a,i)=>{l+=a,i<e[t].length-1&&(l+=", ")}));let a={key:t,value:l};return a},handleClose(e){this.chooseList=this.chooseList.filter((t=>t.key!==e.key)),this.filterSelected[e.key]=[]},clearAll(){this.chooseList=[],this.filterSelected={testOrganization:[],role:[],group:[]}},searchData(){}}},b=f,m=(0,d.Z)(b,a,i,!1,null,"67363e9e",null),g=m.exports},5719:function(e,t,l){e.exports=l.p+"img/noData.cac85dd7.svg"},2113:function(e,t,l){e.exports=l.p+"img/screen1.c79c490f.svg"},3341:function(e,t,l){e.exports=l.p+"img/screen3.32156a36.svg"}}]);
//# sourceMappingURL=463.cd4647e4.js.map