"use strict";(self["webpackChunkopeneuler_test"]=self["webpackChunkopeneuler_test"]||[]).push([[258],{5266:function(e,t,l){l.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[t("el-popover",{attrs:{"visible-arrow":!1,width:"120px",placement:"bottom-end",trigger:"click","popper-class":"filter-table"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("el-checkbox-group",{staticClass:"filter-top",on:{change:e.handleChoose},model:{value:e.filterVal,callback:function(t){e.filterVal=t},expression:"filterVal"}},e._l(e.selectOption,(function(e){return t("el-checkbox",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1),t("div",{staticClass:"el-table-filter_bottom"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.filterTable}},[e._v(" 确认 ")]),t("el-button",{attrs:{type:"default",size:"small"},on:{click:e.cancel}},[e._v(" 重置 ")])],1),t("el-button",{staticClass:"setting",attrs:{slot:"reference",size:"mini",icon:"el-icon-setting"},slot:"reference"})],1)],1)},s=[],r={name:"FilterTable",props:["selectOption","filterSelected","headerInit"],data(){return{filterVal:[],visible:!1,filterChoose:[]}},created(){this.filterVal=this.filterSelected},watch:{filterSelected(e){this.filterSelected=e,this.filterVal=e,this.filterChoose=e}},methods:{handleChoose(e){this.filterChoose=e},filterTable(){this.$emit("handleFilter",this.filterChoose),this.visible=!1},cancel(){this.filterVal=this.headerInit,this.filterChoose=this.headerInit,this.filterTable()}}},i=r,o=l(1001),n=(0,o.Z)(i,a,s,!1,null,"fee41970",null),c=n.exports},9882:function(e,t,l){l.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[t("el-popover",{attrs:{"visible-arrow":!1,width:"120px",placement:"bottom-start",trigger:"click","popper-class":"filter-table"},model:{value:e.isShowFilter,callback:function(t){e.isShowFilter=t},expression:"isShowFilter"}},[t("el-checkbox-group",{on:{change:e.handleChoose},model:{value:e.filterVal,callback:function(t){e.filterVal=t},expression:"filterVal"}},[e._l(e.selectOption,(function(e){return t("el-checkbox",{key:e.value,attrs:{label:e.label,value:e.value}})})),t("div",{staticClass:"el-table-filter_bottom"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.filterTable}},[e._v(" 确认 ")]),t("el-button",{attrs:{type:"default",size:"small"},on:{click:e.cancel}},[e._v(" 重置 ")])],1)],2),t("p",{staticClass:"table-header",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.headerLabel)+" "),0===e.filterSelected.length?t("img",{attrs:{src:l(2113),alt:""}}):t("img",{attrs:{src:l(3341),alt:""}})])],1)],1)},s=[],r={name:"FilterTable",props:["selectOption","headerLabel","filterSelected","filterKey"],data(){return{filterVal:[],isShowFilter:!1,filterChoose:[]}},created(){this.filterVal=this.getSelected()},watch:{filterSelected(e){console.log(e),this.filterSelected=e,this.filterVal=e,this.filterChoose[this.filterKey]=e}},methods:{handleChoose(e){this.filterChoose[this.filterKey]=e},getSelected(){let e=[];return this.filterVal.forEach((t=>{this.selectOption.forEach((l=>{t===l.value&&e.push(l.value)}))})),e},filterTable(){this.$emit("handleFilter",this.filterChoose),this.isShowFilter=!1},cancel(){this.filterVal=[],this.filterChoose[this.filterKey]=[],this.filterTable()}}},i=r,o=l(1001),n=(0,o.Z)(i,a,s,!1,null,"f8f8662c",null),c=n.exports},6258:function(e,t,l){l.r(t),l.d(t,{default:function(){return S}});l(6699);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"management-box"},[t("div",{staticClass:"list-box"},[t("div",{staticClass:"search-box"},[t("div",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.drawer=!0}}},[e._v("新增设备")]),t("el-button",{attrs:{disabled:""}},[e._v("批量删除")])],1),t("div",{staticClass:"task-search"},[t("el-input",{attrs:{type:"text",placeholder:"请输入搜索内容",clearable:"","prefix-icon":"el-icon-search"},on:{change:e.searchData},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("FilterHeader",{attrs:{selectOption:e.headerLabel,headerInit:e.headerInit,filterSelected:e.headerSelected},on:{handleFilter:e.filterHeader}})],1)]),e.chooseList.length>0?t("div",{staticClass:"filter-list"},[t("span",{staticClass:"found"},[e._v(" 已找到 "),t("el-tag",{staticStyle:{"margin-left":"5px",color:"#252b3a"},attrs:{type:"round",size:"small"}},[e._v(" "+e._s(e.pagination.total)+" ")]),e._v(" : ")],1),e._l(e.chooseList,(function(l,a){return t("el-tooltip",{key:a,staticClass:"item",attrs:{effect:"light",content:l.value,placement:"top"}},[t("el-tag",{attrs:{type:"info",closable:""},on:{close:function(t){return e.handleClose(l)}}},[e._v(" "+e._s(l.value)+" ")])],1)})),t("span",{staticClass:"clear-all",on:{click:function(t){return e.clearAll()}}},[e._v("全部清除")])],2):e._e(),t("div",{staticClass:"task-table"},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"light tooltip-end",resizable:"",border:""},on:{"filter-change":e.filterChange,"selection-change":e.handleSelectionChange}},[t("template",{slot:"empty"},[t("img",{attrs:{src:l(5719)}})]),t("el-table-column",{attrs:{type:"selection",width:"30"}}),t("el-table-column",{attrs:{prop:"deviceId",label:e.headerLabel[0].label,width:"100","show-overflow-tooltip":""}}),e.headerSelected.includes(e.headerLabel[1].label)?t("el-table-column",{attrs:{prop:"bmcIp","show-overflow-tooltip":"",label:e.headerLabel[1].label}}):e._e(),e.headerSelected.includes(e.headerLabel[2].label)?t("el-table-column",{attrs:{prop:"serverType","show-overflow-tooltip":"",width:"112"},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.serverType,headerLabel:e.headerLabel[2].label,filterSelected:e.filterSelected.serverType,filterKey:"serverType"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,1978636461)}):e._e(),e.headerSelected.includes(e.headerLabel[3].label)?t("el-table-column",{attrs:{prop:"modelType",width:"136","show-overflow-tooltip":"",label:e.headerLabel[3].label},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.modelType,headerLabel:e.headerLabel[3].label,filterSelected:e.filterSelected.modelType,filterKey:"modelType"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,2114533446)}):e._e(),e.headerSelected.includes(e.headerLabel[4].label)?t("el-table-column",{attrs:{prop:"testOrganization","show-overflow-tooltip":"",label:e.headerLabel[4].label,width:"112"},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.testOrganization,headerLabel:e.headerLabel[4].label,filterSelected:e.filterSelected.testOrganization,filterKey:"testOrganization"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,3630153659)}):e._e(),e.headerSelected.includes(e.headerLabel[5].label)?t("el-table-column",{attrs:{prop:"resourceType",label:e.headerLabel[5].label,"show-overflow-tooltip":"",width:"112"},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.resourceType,headerLabel:e.headerLabel[5].label,filterSelected:e.filterSelected.resourceType,filterKey:"resourceType"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,976055877)}):e._e(),e.headerSelected.includes(e.headerLabel[6].label)?t("el-table-column",{attrs:{prop:"platform",width:"114","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.platform,headerLabel:e.headerLabel[6].label,filterSelected:e.filterSelected.platform,filterKey:"platform"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,682063787)}):e._e(),e.headerSelected.includes(e.headerLabel[7].label)?t("el-table-column",{attrs:{prop:"cpu","column-key":"cpu","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.cpu,headerLabel:e.headerLabel[7].label,filterSelected:e.filterSelected.cpu,filterKey:"cpu"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,486968659)}):e._e(),e.headerSelected.includes(e.headerLabel[8].label)?t("el-table-column",{attrs:{prop:"ram",label:e.headerLabel[8].label,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(" "+e._s(l.row.ram.count+"*"+l.row.ram.size)+" ")])]}}],null,!1,1831997168)}):e._e(),e.headerSelected.includes(e.headerLabel[9].label)?t("el-table-column",{attrs:{prop:"disk",label:e.headerLabel[9].label,"show-overflow-tooltip":""}}):e._e(),e.headerSelected.includes(e.headerLabel[10].label)?t("el-table-column",{attrs:{prop:"region",label:e.headerLabel[10].label,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.region,headerLabel:e.headerLabel[10].label,filterSelected:e.filterSelected.region,filterKey:"region"},on:{handleFilter:e.filterChange}})],1)}}],null,!1,1355826299)}):e._e(),e.headerSelected.includes(e.headerLabel[11].label)?t("el-table-column",{attrs:{prop:"status",label:e.headerLabel[11].label,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function({}){return t("div",{},[t("FilterTable",{attrs:{selectOption:e.filters.status,headerLabel:e.headerLabel[11].label,filterSelected:e.filterSelected.status,filterKey:"status"},on:{handleFilter:e.filterChange}})],1)}},{key:"default",fn:function(l){return["回收中"===l.row.status?t("span",{staticClass:"status"},[e._v(e._s(l.row.status))]):e._e(),"可分配"===l.row.status?t("span",{staticClass:"status status1"},[e._v(e._s(l.row.status))]):e._e(),"使用中"===l.row.status?t("span",{staticClass:"status status2"},[e._v(e._s(l.row.status))]):e._e(),"建设中"===l.row.status?t("span",{staticClass:"status status3"},[e._v(e._s(l.row.status))]):e._e(),"维修中"===l.row.status?t("span",{staticClass:"status status4"},[e._v(e._s(l.row.status))]):e._e(),"已回收"===l.row.status?t("span",{staticClass:"status status4"},[e._v(e._s(l.row.status))]):e._e()]}}],null,!1,2831013898)}):e._e(),e.headerSelected.includes(e.headerLabel[12].label)?t("el-table-column",{attrs:{prop:"operate",label:e.headerLabel[12].label,minWidth:"104","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(l){return[t("div",{staticClass:"opera-btn"},[t("button",[e._v("编辑")]),t("button",{on:{click:function(t){return e.deleteServer(l.row)}}},[e._v("删除")])])]}}],null,!1,1932550230)}):e._e()],2),t("el-pagination",{attrs:{"current-page":e.pagination.currentPage,"page-sizes":e.pagination.pageSizes,"page-size":e.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),t("el-drawer",{attrs:{title:"新增设备",visible:e.drawer,"show-close":!1,"before-close":e.closeDrawer},on:{"update:visible":function(t){e.drawer=t}}},[t("AddEquipment",{on:{handleCancel:e.handleCancel}})],1)],1)},s=[],r=l(9882),i=l(5266),o=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{"label-width":"80px",model:e.formData,"label-position":"left",rules:e.rules}},[t("div",{staticClass:"form-top"},[t("p",{staticClass:"form-title"},[e._v("基本信息")]),t("el-form-item",{attrs:{label:"区域"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.region,callback:function(t){e.$set(e.formData,"region",t)},expression:"formData.region"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"资源类型"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.resourceType,callback:function(t){e.$set(e.formData,"resourceType",t)},expression:"formData.resourceType"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"算力平台"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.platform,callback:function(t){e.$set(e.formData,"platform",t)},expression:"formData.platform"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"设备ID"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.deviceId,callback:function(t){e.$set(e.formData,"deviceId",t)},expression:"formData.deviceId"}})],1),t("el-form-item",{attrs:{label:"服务器类型"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.serverType,callback:function(t){e.$set(e.formData,"serverType",t)},expression:"formData.serverType"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"服务器型号"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.serverModel,callback:function(t){e.$set(e.formData,"serverModel",t)},expression:"formData.serverModel"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"BMC IP"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.BMC,callback:function(t){e.$set(e.formData,"BMC",t)},expression:"formData.BMC"}})],1)],1),t("div",{staticClass:"form-bottom"},[t("p",{staticClass:"form-title"},[e._v("硬件信息")]),t("el-form-item",{attrs:{label:"CPU"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.CPU,callback:function(t){e.$set(e.formData,"CPU",t)},expression:"formData.CPU"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"内存"}},[t("el-select",{staticClass:"dis-right",attrs:{placeholder:"请选择"},model:{value:e.formData.ram.type,callback:function(t){e.$set(e.formData.ram,"type",t)},expression:"formData.ram.type"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-input-number",{attrs:{min:1},on:{change:e.handleChange},model:{value:e.formData.ram.count,callback:function(t){e.$set(e.formData.ram,"count",t)},expression:"formData.ram.count"}})],1),t("el-form-item",{attrs:{label:"网卡"}},[t("el-select",{staticClass:"dis-right",attrs:{placeholder:"请选择"},model:{value:e.formData.nic.type,callback:function(t){e.$set(e.formData.nic,"type",t)},expression:"formData.nic.type"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1),t("el-input-number",{staticClass:"dis-right",attrs:{min:1},on:{change:e.handleChange},model:{value:e.formData.nic.count,callback:function(t){e.$set(e.formData.nic,"count",t)},expression:"formData.nic.count"}}),t("i",{staticClass:"el-icon-circle-plus-outline"})],1),t("el-form-item",{attrs:{label:"硬盘"}},e._l(e.formData.disk,(function(l,a){return t("div",{key:a,staticClass:"form-flex",attrs:{prop:"disk"}},[t("el-form-item",[t("el-select",{staticClass:"dis-right",attrs:{placeholder:"请选择类型"},model:{value:l.type,callback:function(t){e.$set(l,"type",t)},expression:"diskItem.type"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",[t("el-select",{staticClass:"dis-right",attrs:{placeholder:"请选择容量"},model:{value:l.size,callback:function(t){e.$set(l,"size",t)},expression:"diskItem.size"}},e._l(e.regionOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{prop:""}},[t("el-input-number",{staticClass:"dis-right",attrs:{min:1},on:{change:e.handleChange},model:{value:l.count,callback:function(t){e.$set(l,"count",t)},expression:"diskItem.count"}}),t("i",{staticClass:"el-icon-remove-outline"}),t("i",{staticClass:"el-icon-circle-plus-outline"})],1)],1)})),0)],1),t("div",{staticClass:"form-footer"},[t("el-button",{attrs:{type:"primary"}},[e._v("提交")]),t("el-button",{on:{click:e.handleCancel}},[e._v("取消")])],1)])],1)},n=[],c=l(6265),d=l.n(c);const u={getList(e){let t="/rest/v1/server-management/list";return d().post(t,e)},addServer(e){let t="/rest/v1/server-management/add-server";return d().post(t,e)},getFilterList(){let e="/rest/v1/server-management/list-filter-item";return d().get(e)},deleteServer(e){let t="/rest/v1/server-management/delete-server";return d().post(t)},getItem(e){let t=`/rest/v1/drop-down-box/${e}/item`;return d().post(t)}};var h=l(9691),p={name:"AddEquipment",props:[],data(){return{formData:{deviceId:"",region:"",resourceType:"",platform:"",status:"",serverType:"",modelType:"",bmcIp:"",cpu:"",ram:{size:"",count:1},nic:[{size:"",count:1}],disk:[{type:"",count:1,size:""}]},regionOptions:["东莞","广州","北京"],rules:{region:[{required:!0,message:"请选择"}],deviceId:[{required:!0,message:"请输入设备ID"}],resourceType:[{required:!0,message:"请选择"}],platform:[{required:!0,message:"请选择"}],status:[{required:!0,message:"请选择"}],serverType:[{required:!0,message:"请选择"}],modelType:[{required:!0,message:"请选择区域"}],bmcIp:[{required:!0,message:"请输入"}],cpu:[{required:!0,message:"请选择"}],ram:[{required:!0,message:"请选择"}],nic:[{required:!0,message:"请选择"}],disk:[{required:!0,message:"请选择"}]}}},created(){this.getItem("ITEM_0008")},methods:{handleChange(){},getItem(e){u.getItem(e).then((e=>{e.data.code===this.$statusCode.LOGIN_FAILED?(0,h.K)():e.data.code===this.$statusCode.SUCCESS&&console.log(e.data.body)}))},handleCancel(){this.$emit("handleCancel")}}},f=p,m=l(1001),b=(0,m.Z)(f,o,n,!1,null,"0c2958f3",null),v=b.exports,g={name:"ServerManagement",components:{FilterTable:r.Z,FilterHeader:i.Z,AddEquipment:v},data(){return{keyword:"",drawer:!1,tableData:[],headerLabel:[{label:"设备ID",value:"设备ID",disabled:!0},{label:"BMC IP",value:"BMC IP",disabled:!1},{label:"服务器类型",value:"服务器类型",disabled:!1},{label:"服务器型号",value:"服务器型号",disabled:!1},{label:"测试机构",value:"测试机构",disabled:!1},{label:"资源类型",value:"资源类型",disabled:!1},{label:"算力平台",value:"算力平台",disabled:!1},{label:"cpu",value:"cpu",disabled:!1},{label:"内存",value:"内存",disabled:!1},{label:"硬盘",value:"硬盘",disabled:!1},{label:"区域",value:"区域",disabled:!1},{label:"状态",value:"状态",disabled:!1},{label:"操作",value:"操作",disabled:!1}],headerInit:["设备ID","BMC Ip","服务器类型","服务器型号","测试机构","资源类型","算力平台","cpu","内存","硬盘","区域","状态","操作"],headerSelected:["设备ID","BMC IP","服务器类型","服务器型号","测试机构","资源类型","算力平台","cpu","内存","硬盘","区域","状态","操作"],filters:{serverType:[],modelType:[],testOrganization:[],resourceType:[],platform:[],cpu:[],region:[],status:[]},filterSelected:{serverType:[],modelType:[],testOrganization:[],resourceType:[],platform:[],cpu:[],region:[],status:[]},chooseList:[],pagination:{total:0,currentPage:1,layout:"total, size, prev, pager, next, jumper",pageSizes:[10,20,30,50],pageSize:10},params:{serverTypeList:[],modelTypeList:[],resourceTypeList:[],platformList:[],cpuList:[],ramList:[],regionList:[],statusList:[],keyword:"",pageNo:1,pageSize:10}}},created(){this.getList(),this.getFilterList()},methods:{handleSizeChange(e){this.params.pageSize=e,this.pagination.pageSize=e,this.getList()},handleCurrentChange(e){this.params.pageNo=e,this.pagination.currentPage=e,this.getList()},handleSelectionChange(){console.log(1234)},getList(){u.getList(this.params).then((e=>{e.data.code===this.$statusCode.LOGIN_FAILED?(0,h.K)():e.data.code===this.$statusCode.SUCCESS&&(this.tableData=e.data.body.list[0],this.pagination.total=e.data.body.total,this.tableData.forEach((e=>{let t="";e.disk.forEach(((l,a)=>{t+=l.count+"*"+l.size+" "+l.type,a!==e.disk.length-1&&(t+=",")})),e.disk=t})))}))},getFilterList(){u.getFilterList().then((e=>{e.data.code===this.$statusCode.LOGIN_FAILED?(0,h.K)():e.data.code===this.$statusCode.SUCCESS&&(this.filters.serverType=this.handleData(e.data.body.serverTypeList),this.filters.modelType=this.handleData(e.data.body.modelTypeList),this.filters.testOrganization=this.handleData(e.data.body.testOrganization),this.filters.resourceType=this.handleData(e.data.body.resourceTypeList),this.filters.platform=this.handleData(e.data.body.platformList),this.filters.cpu=this.handleData(e.data.body.cpuList),this.filters.region=this.handleData(e.data.body.regionList),this.filters.status=this.handleData(e.data.body.statusList))}))},handleData(e){let t=[];return e&&e.length>0&&e.forEach((e=>{let l={label:e,value:e};t.push(l)})),t},closeDrawer(){this.drawer=!1},filterHeader(e){this.headerSelected=e},filterChange(e){if(this.chooseList=this.chooseList.filter((t=>-1===Object.keys(e)[0].indexOf(t.key))),e.serverType){if(e.serverType.length>0){let t=this.handleFilter(e,"serverType");this.chooseList.push(t)}this.filterSelected.serverType=e.serverType}if(e.modelType){if(e.modelType.length>0){let t=this.handleFilter(e,"modelType");this.chooseList.push(t)}this.filterSelected.modelType=e.modelType}if(e.resourceType){if(e.resourceType.length>0){let t=this.handleFilter(e,"resourceType");this.chooseList.push(t)}this.filterSelected.resourceType=e.resourceType}if(e.platform){if(e.platform.length>0){let t=this.handleFilter(e,"platform");this.chooseList.push(t)}this.filterSelected.platform=e.platform}if(e.cpu){if(e.cpu.length>0){let t=this.handleFilter(e,"cpu");this.chooseList.push(t)}this.filterSelected.cpu=e.cpu}if(e.region){if(e.region.length>0){let t=this.handleFilter(e,"region");this.chooseList.push(t)}this.filterSelected.region=e.region}if(e.status){if(e.status.length>0){let t=this.handleFilter(e,"status");this.chooseList.push(t)}this.filterSelected.status=e.status}if(e.testOrganization){if(e.testOrganization.length>0){let t=this.handleFilter(e,"testOrganization");this.chooseList.push(t)}this.filterSelected.testOrganization=e.testOrganization}},handleFilter(e,t){let l="";l="serverType"===t?"测试场景：":"modelType"===t?"服务器型号：":"resourceType"===t?"资源类型：":"platform"===t?"算力平台：":"cpu"===t?"cpu：":"region"===t?"地域：":"testOrganization"===t?"测试机构：":"状态：",e[t].forEach(((a,s)=>{l+=a,s<e[t].length-1&&(l+=", ")}));let a={key:t,value:l};return a},handleClose(e){this.chooseList=this.chooseList.filter((t=>t.key!==e.key)),this.filterSelected[e.key]=[]},clearAll(){this.chooseList=[],this.filterSelected={serverType:[],modelType:[],resourceType:[],platform:[],cpu:[],region:[],status:[],testOrganization:[]}},searchData(e){this.params.keyword=e,this.getList()},deleteServer(e){this.$confirm("服务器删除后将不可恢复，确定要删除服务器？","删除服务器",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((()=>{u.deleteServer(e.deviceId).then((e=>{e.data.code===this.$statusCode.LOGIN_FAILED?(0,h.K)():e.data.code===this.$statusCode.SUCCESS&&(console.log(e.data.body),this.$message({type:"success",message:"删除成功!",showClose:!0}))}))}))},handleCancel(){this.drawer=!1}}},y=g,C=(0,m.Z)(y,a,s,!1,null,"7306c31a",null),S=C.exports},9691:function(e,t,l){l.d(t,{K:function(){return r}});var a=l(8499),s=l(1120);function r(){a.MessageBox.confirm("当前登录超时，请重新登录!","会话过期",{confirmButtonText:"确定",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1}).then((()=>{s.Z.push("/login")})).catch((()=>{}))}},5719:function(e,t,l){e.exports=l.p+"img/noData.cac85dd7.svg"},2113:function(e,t,l){e.exports=l.p+"img/screen1.c79c490f.svg"},3341:function(e,t,l){e.exports=l.p+"img/screen3.32156a36.svg"}}]);
//# sourceMappingURL=258.adb2d4e0.js.map