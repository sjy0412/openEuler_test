"use strict";(self["webpackChunkopeneuler_test"]=self["webpackChunkopeneuler_test"]||[]).push([[795],{2795:function(e,t,s){s.r(t),s.d(t,{default:function(){return de}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[t("div",{staticClass:"detail-header",style:{left:-e.scrollLeft+"px"}},[t("p",{staticClass:"goBack",on:{click:e.goBack}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v(" 返回 ")]),t("img",{attrs:{src:s(3227)}}),t("div",{staticClass:"flex-column"},[t("span",{staticClass:"project-status"},[t("el-tag",{staticClass:"dfp"},[e._v(e._s(e.data.taskStatus))])],1),t("span",[e._v(e._s(e.data.projectId))])]),t("ProcessLine",{attrs:{statusList:e.statusList,currentIndex:e.currentIndex}}),t("div",{staticClass:"test-btn"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.terminateTest}},[e._v(" 终止测试 ")]),e._e(),e._e(),t("el-popover",{attrs:{placement:"bottom-start",trigger:"click",width:"88","popper-class":"popper-more"}},[t("div",{staticClass:"more-btn"},[t("p",[e._v("预览报告")]),t("p",[e._v("重新测试")])]),t("div",{staticClass:"opera-more",attrs:{slot:"reference"},slot:"reference"},[t("el-button",[e._v("更多"),t("i",{staticClass:"el-icon-caret-bottom"})])],1)])],1)],1),t("div",{staticClass:"detail-content"},[t("el-timeline",[t("el-timeline-item",{staticClass:"success",attrs:{icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.submitInfo?"open-card":""],on:{click:function(t){return e.openCard("submitTest")}}},[e._v(" 提交测试 ")]),t("SubmitInfo",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.submitInfo,expression:"isOpen.submitInfo"}]})],1)],1),"openEuler商业发行版"!==e.$route.query.testScene&&e.currentIndex>=1?t("el-timeline-item",{staticClass:"success",attrs:{icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.assignServer?"open-card":""],on:{click:function(t){return e.openCard("assignServer")}}},[e._v(" 分配服务器 ")]),t("AssignServer",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.assignServer,expression:"isOpen.assignServer"}]})],1)],1):e._e(),"openEuler商业发行版"===e.$route.query.testScene?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",[t("span",{class:["bar-title",e.isOpen.compile?"open-card":""],on:{click:function(t){return e.openCard("compile")}}},[e._v("编译打包")]),t("span",{staticClass:"re-run"},[e._v("一键重跑")])]),t("Compile",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.compile,expression:"isOpen.compile"}],attrs:{compileData:e.compileData}})],1)],1):e._e(),"openEuler商业发行版"===e.$route.query.testScene?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",[t("span",{class:["bar-title",e.isOpen.repository?"open-card":""],on:{click:function(t){return e.openCard("repository")}}},[e._v("仓库测试")]),t("span",{staticClass:"re-run"},[e._v("一键重跑")])]),t("RepositoryTest",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.repository,expression:"isOpen.repository"}],attrs:{tableData:e.repositoryData,operateLog:e.operateLog}})],1)],1):e._e(),"openEuler商业发行版"!==e.$route.query.testScene&&e.currentIndex>=2?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.test?"open-card":""],on:{click:function(t){return e.openCard("test")}}},[e._v(" "+e._s("openEuler商业发行版"===e.$route.query.testScene?"基本功能测试":"测试")+" ")]),t("Test",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.test,expression:"isOpen.test"}]})],1)],1):e._e(),"openEuler商业发行版"===e.$route.query.testScene?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",[t("span",{class:["bar-title",e.isOpen.baseTest?"open-card":""],on:{click:function(t){return e.openCard("baseTest")}}},[e._v("基础性能测试")]),t("span",{staticClass:"re-run"},[e._v("一键重跑")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.baseTest,expression:"isOpen.baseTest"}]},[t("span",{staticClass:"base-test-title"},[e._v("unixbench用例")]),t("BaseTest",{attrs:{tableData:e.baseTestData}}),t("span",{staticClass:"base-test-title"},[e._v("lmbench用例")]),t("BaseTest",{attrs:{tableData:e.baseTestData}}),t("span",{staticClass:"base-test-title"},[e._v("Benchmark-sol用例")]),t("BaseTest",{attrs:{tableData:e.baseTestData}})],1)])],1):e._e(),"openEuler商业发行版"===e.$route.query.testScene?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",[t("span",{class:["bar-title",e.isOpen.oecn?"open-card":""],on:{click:function(t){return e.openCard("oecn")}}},[e._v("oecn测试")])]),t("OecnTest",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.oecn,expression:"isOpen.oecn"}],attrs:{tableData:e.oecnData}})],1)],1):e._e(),"openEuler商业发行版"!==e.$route.query.testScene&&e.currentIndex>=3?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.testSuccess?"open-card":""],on:{click:function(t){return e.openCard("testSuccess")}}},[t("div",{staticClass:"test-title"},[e._v("测试通过")]),e._e()]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.testSuccess,expression:"isOpen.testSuccess"}],staticClass:"test-end project-card"},[e._v(e._s("结束时间："+e.data.finishTime))])])],1):e._e(),"openEuler商业发行版"!==e.$route.query.testScene&&e.currentIndex>=4?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.serverRelease?"open-card":""],on:{click:function(t){return e.openCard("serverRelease")}}},[e._v(" 服务器释放 ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.serverRelease,expression:"isOpen.serverRelease"}],staticClass:"test-end project-card"},[e._v("开始时间：xxxx,结束时间：xxx,处理人：xxx")])])],1):e._e(),"openEuler商业发行版"!==e.$route.query.testScene&&e.currentIndex>=5||"openEuler商业发行版"===e.$route.query.testScene&&e.currentIndex>=8?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.certificateEnd?"open-card":""],on:{click:function(t){return e.openCard("certificateEnd")}}},[e._v(" 认证结束 ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.certificateEnd,expression:"isOpen.certificateEnd"}],staticClass:"test-end project-card"},[e._v("结束时间：xxx")])])],1):e._e(),"openEuler商业发行版"===e.$route.query.testScene?t("el-timeline-item",{staticClass:"success",attrs:{"hide-timestamp":!0,icon:"el-icon-success",placement:"top"}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.serverRelease?"open-card":""],on:{click:function(t){return e.openCard("serverRelease")}}},[e._v(" 服务器释放 ")]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.serverRelease,expression:"isOpen.serverRelease"}],staticClass:"test-end project-card"},[e._v("开始时间：xxxx,结束时间：xxx,处理人：xxx")])])],1):e._e(),e._e(),t("el-timeline-item",{staticClass:"operate",attrs:{placement:"top","hide-timestamp":!0}},[t("el-card",[t("div",{class:["bar-title",e.isOpen.operateLog?"open-card":""],on:{click:function(t){return e.openCard("operateLog")}}},[e._v(" 操作日志 ")]),t("Operate",{directives:[{name:"show",rawName:"v-show",value:e.isOpen.operateLog,expression:"isOpen.operateLog"}]})],1)],1)],1)],1)])},r=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"process-line"},e._l(e.statusList,(function(s,a){return t("div",{key:a,class:["status-step",a<e.currentIndex?"success":"",e.statusList.length>6?"step-width":""]},[t("div",{class:["step-index",a===e.currentIndex?"active1":""]},[t("span",{class:a===e.currentIndex?"active2":""},[e._v(e._s(a+1))])]),t("span",{class:a===e.currentIndex?"active-text":""},[e._v(e._s(s))])])})),0)},n=[],l={name:"ProcessLine",props:["statusList","currentIndex"],data(){return{}}},o=l,c=s(1001),u=(0,c.Z)(o,i,n,!1,null,"649d9f18",null),p=u.exports,d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"project-card"},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("提交时间")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.requestTime?e.data.requestTime:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("测试人姓名")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.userName?e.data.userName:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("测试人公司")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.companyName?e.data.companyName:"-"))])])])],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("测试人邮箱")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.email?e.data.email:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("测试人电话")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.telephone?e.data.telephone:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("方案名称")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.solutionName?e.data.solutionName:"-"))])])])],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("方案ID")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.projectId?e.data.projectId:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("产品名称")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.productName?e.data.productName:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("产品版本")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.productVersion?e.data.productVersion:"-"))])])])],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("产品类型")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.productType?e.data.productType:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("算力平台")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.platform?e.data.platform:"-"))])])]),t("el-col",{attrs:{span:8}},[t("div",{staticClass:"flex-row"},[t("p",{staticClass:"label"},[e._v("服务器类型")]),t("p",{staticClass:"value"},[e._v(e._s(e.data.serverType?e.data.serverType:"-"))])])])],1)],1)},m=[],v=s(3822),b={name:"SubmitInfo",computed:{...(0,v.rn)("detail",{data:"detail"})}},f=b,_=(0,c.Z)(f,d,m,!1,null,"e7fc1768",null),h=_.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",resizable:""}},[t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{class:["status","已分配"===s.row.status?"green":""]},[e._v(e._s(s.row.status))])]}}])}),t("el-table-column",{attrs:{prop:"applyTime",label:"开始时间"}}),e.isAssign?e._e():t("el-table-column",{attrs:{prop:"queuePosition",label:"位次"}}),e.isAssign?t("el-table-column",{attrs:{prop:"assignTime",label:"分配到服务器时间"}}):e._e(),e.isAssign?t("el-table-column",{attrs:{prop:"ipAddress",label:"IP地址"}}):e._e(),e.isAssign?t("el-table-column",{attrs:{prop:"region",label:"区域"}}):e._e(),e.isAssign?t("el-table-column",{attrs:{prop:"account",label:"账号"}}):e._e(),e.isAssign?t("el-table-column",{attrs:{prop:"password",label:"密码"}}):e._e(),e.isAssign?t("el-table-column",{attrs:{prop:"jumperIp",label:"跳板机IP"}}):e._e()],1)],1)},w=[],x={name:"AssignServer",data(){return{tableData:[],isAssign:!1}},computed:{...(0,v.rn)("detail",{detailData:"detail"})},watch:{detailData:{handler(e){e.queue?(this.tableData.push(e.queue),this.isAssign=!1):(this.tableData.push(e.server),this.isAssign=!0)},deep:!0}}},k=x,T=(0,c.Z)(k,C,w,!1,null,"65253d12",null),S=T.exports,g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"project-card"},[t("el-timeline",e._l(e.testData,(function(s,a){return t("el-timeline-item",{key:a,class:"test failed"===s.nextStatus?"test-error":"testing"===s.nextStatus?"test-active":"test-success",attrs:{icon:s.icon}},[e._v(" "+e._s(s.content)+" "),"test failed"===s.status&&a===e.testProcess.length-1?t("span",{staticClass:"rerun-test"},[e._v("重跑测试")]):e._e(),t("br"),e._v(" "+e._s(s.timestamp)+" ")])})),1)],1)},I=[],O={name:"Test",data(){return{testData:[]}},computed:{...(0,v.rn)("detail",{detailData:"detail"})},watch:{detailData:{handler(e){e.testMessageList.forEach(((t,s)=>{let a={content:`第${t.retryTime}次测试`,timestamp:`开始时间：${t.startTime},任务ID：${t.taskId}`,icon:"test failed"===t.status?"el-icon-error":"el-icon-more",status:t.status,nextStatus:""};t.failureReason&&(a.timestamp+=`，失败原因：${t.failureReason}`,a.content+="失败"),t.terminateReason&&(a.timestamp+=`，终止原因：${t.terminateReason}`,a.content="测试终止"),"test finished"===t.status&&(a.timestamp=`完成时间：${e.finishTime},任务ID：${t.taskId}`,a.content="已完成"),this.testData.push(a),0!==s&&(this.testData[s].nextStatus=t.status)}))},deep:!0}}},y=O,D=(0,c.Z)(y,g,I,!1,null,"2aa87d66",null),L=D.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"project-card"},[t("el-timeline",e._l(e.detailData.operateLog,(function(s,a){return t("el-timeline-item",{key:a,staticClass:"operate"},[t("span",[e._v("操作")]),t("br"),t("span",{staticClass:"tips"},[e._v(e._s(s.time+"，操作人："+s.user))]),t("br"),t("span",{staticClass:"tips"},[e._v(e._s(s.content))])])})),1)],1)},N=[],$={name:"Operate",computed:{...(0,v.rn)("detail",{detailData:"detail"})}},q=$,R=(0,c.Z)(q,E,N,!1,null,"21512cd2",null),A=R.exports,Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.compileData,border:"",resizable:""}},[t("el-table-column",{attrs:{prop:"useCase",label:"用例"}}),t("el-table-column",{attrs:{prop:"taskId",label:"任务ID"}}),t("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),t("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{class:["status","成功"===s.row.status?"green":""]},[e._v(e._s(s.row.status))])]}}])}),t("el-table-column",{attrs:{prop:"failCause",label:"失败原因"}}),t("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return["失败"===s.row.status?t("span",{staticClass:"re-btn"},[e._v("重跑")]):t("span",[e._v("-")])]}}])})],1)],1)},j=[],B={name:"Compile",props:["compileData"],data(){return{}}},P=B,z=(0,c.Z)(P,Z,j,!1,null,"197b9f36",null),M=z.exports,F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",resizable:""}},[t("el-table-column",{attrs:{prop:"taskId",label:"任务ID"}}),t("el-table-column",{attrs:{prop:"rpm",label:"rpm包范围"}}),t("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),t("el-table-column",{attrs:{prop:"endTime",label:"结束时间"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(""!==s.row.endTime?s.row.endTime:"-"))])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{class:["status","成功"===s.row.status?"green":"测试中"===s.row.status?"blue":""]},[e._v(e._s(s.row.status))])]}}])}),t("el-table-column",{attrs:{prop:"failCause",label:"失败原因"},scopedSlots:e._u([{key:"default",fn:function(s){return[""!==s.row.failCause?t("span",[e._v(e._s(s.row.failCause))]):t("span",[e._v("-")])]}}])}),t("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return["失败"===s.row.status?t("span",{staticClass:"re-btn"},[e._v("重跑")]):e._e(),"失败"===s.row.status?t("span",{staticClass:"re-btn"},[e._v("补充原因")]):e._e(),t("span",{staticClass:"re-btn",on:{click:function(t){e.showLog=!0}}},[e._v("查看日志")])]}}])})],1),t("el-dialog",{attrs:{title:"提示",visible:e.showLog,width:"30%"},on:{"update:visible":function(t){e.showLog=t}}},[t("Operate",{attrs:{operateLog:e.operateLog}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showLog=!1}}},[e._v("关闭")])],1)],1)],1)},K=[],V={name:"RepositoryTest",props:["tableData","operateLog"],components:{Operate:A},data(){return{showLog:!1}}},G=V,U=(0,c.Z)(G,F,K,!1,null,"48561637",null),H=U.exports,J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",resizable:""}},[t("el-table-column",{attrs:{prop:"testNum",label:"测试次数"}}),t("el-table-column",{attrs:{prop:"taskId",label:"任务ID"}}),t("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),t("el-table-column",{attrs:{prop:"endTime",label:"结束时间"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(""!==s.row.endTime?s.row.endTime:"-"))])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{class:["status","成功"===s.row.status?"green":"测试中"===s.row.status?"blue":""]},[e._v(e._s(s.row.status))])]}}])}),t("el-table-column",{attrs:{prop:"failCause",label:"失败原因"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(""!==s.row.failCause?s.row.failCause:"-"))])]}}])}),t("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{staticClass:"re-btn"},[e._v(e._s("失败"===s.row.status?"重跑":"-"))])]}}])})],1)],1)},Q=[],W={name:"BaseTest",props:["tableData"],data(){return{}}},X=W,Y=(0,c.Z)(X,J,Q,!1,null,"8a768852",null),ee=Y.exports,te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",resizable:""}},[t("el-table-column",{attrs:{prop:"testId",label:"测试ID"}}),t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{class:["status","成功"===s.row.status?"green":"测试中"===s.row.status?"blue":""]},[e._v(e._s(s.row.status))])]}}])}),t("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),t("el-table-column",{attrs:{prop:"endTime",label:"结束时间"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",[e._v(e._s(""!==s.row.endTime?s.row.endTime:"-"))])]}}])}),t("el-table-column",{attrs:{prop:"failCause",label:"失败原因"},scopedSlots:e._u([{key:"default",fn:function(s){return[""!==s.row.failCause?t("span",[e._v(e._s(s.row.failCause))]):t("span",[e._v("-")])]}}])}),t("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{staticClass:"re-btn"},[e._v(e._s("失败"===s.row.status?"重跑":"-"))])]}}])})],1)],1)},se=[],ae={name:"RepositoryTest",props:["tableData"],data(){return{}}},re=ae,ie=(0,c.Z)(re,te,se,!1,null,"c229ea02",null),ne=ie.exports,le=s(6991),oe=s(9691),ce={name:"projectDetail",components:{ProcessLine:p,SubmitInfo:h,AssignServer:S,Test:L,Operate:A,Compile:M,RepositoryTest:H,BaseTest:ee,OecnTest:ne},data(){return{statusList:[],currentIndex:0,compileData:[{useCase:"已分配",taskId:"2016-05-02",startTime:"2022-07-01",endTime:"256.122.17.166",status:"失败",failCause:"12304"},{useCase:"已分配",taskId:"2016-05-03",startTime:"2022-07-01",endTime:"256.122.17.166",status:"成功",failCause:"原因"}],repositoryData:[{taskId:"2016-05-02",rpm:"已分配",startTime:"2022-07-01",endTime:"256.122.17.166",status:"失败",failCause:"12304"},{taskId:"2016-05-03",rpm:"已分配",startTime:"2022-07-01",endTime:"256.122.17.166",status:"成功",failCause:""},{taskId:"2016-05-03",rpm:"已分配",startTime:"2022-07-01",endTime:"",status:"测试中",failCause:""}],baseTestData:[{taskId:"2016-05-02",testNum:"已分配",startTime:"2022-07-01",endTime:"256.122.17.166",status:"失败",failCause:"12304"},{taskId:"2016-05-03",testNum:"已分配",startTime:"2022-07-01",endTime:"256.122.17.166",status:"成功",failCause:""},{taskId:"2016-05-03",testNum:"已分配",startTime:"2022-07-01",endTime:"",status:"测试中",failCause:""}],oecnData:[{testId:"2016-05-02",startTime:"2022-07-01",endTime:"256.122.17.166",status:"失败",failCause:"12304"},{testId:"2016-05-03",testNum:"已分配",startTime:"2022-07-01",endTime:"256.122.17.166",status:"成功",failCause:""},{testId:"2016-05-03",testNum:"已分配",startTime:"2022-07-01",endTime:"",status:"测试中",failCause:""}],isAssign:!1,testProcess:[{content:"测试中",timestamp:"开始时间：2022:08:12,任务ID：123344144",icon:"el-icon-more",status:"active",nextStatus:"error"},{content:"第一次测试失败",timestamp:"开始时间：2022:08:12,任务ID：123344144,失败原因：xxxxx",icon:"el-icon-error",status:"error",nextStatus:"active"},{content:"第二次测试",timestamp:"完成时间：2022:08:12,任务ID：123344144",icon:"el-icon-more",status:"active",nextStatus:"error"},{content:"第二次测试失败",timestamp:"完成时间：2022:08:12,任务ID：123344144",icon:"el-icon-error",status:"error",nextStatus:"active"},{content:"三轮测试中",timestamp:"开始时间：2022:08:12,任务ID：123344144",icon:"el-icon-more",status:"active",nextStatus:"success"},{content:"已完成",timestamp:"完成时间：2022:08:12,任务ID：123344144",icon:"el-icon-success",status:"success",nextStatus:""}],isOpen:{submitInfo:!1,assignServer:!1,compile:!1,repository:!1,baseTest:!1,oecn:!1,test:!1,testSuccess:!1,serverRelease:!1,certificateEnd:!1,determineTest:!1,operateLog:!1},scrollLeft:0,data:{}}},created(){"openEuler商业发行版"!==this.$route.query.testScenario?this.statusList=["提交测试任务","分配服务器","测试","测试完成","服务器释放","认证结束"]:this.statusList=["提交测试任务","分配服务器","编译打包","仓库测试","基本功能测试","基础性能测试","oecn测试","测试通过","认证结束","服务器释放"],this.getPreview()},methods:{...(0,v.OI)("detail",["switchInfo"]),goBack(){document.referrer.indexOf("/workbench/task")>-1?thi.$router.back():this.$router.push("/workbench/task")},getPreview(){le.d.getPreview(this.$route.query.projectId,this.$route.query.requestId).then((e=>{e.data.code===this.$statusCode.LOGIN_FAILED?(0,oe.K)():e.data.code===this.$statusCode.SUCCESS&&(this.data=e.data.body,this.switchInfo(this.data),this.handleStatus())}))},handleStatus(){switch(this.data.taskStatus){case"submit":this.data.taskStatus="提交测试",this.currentIndex=0;break;case"waiting to allocate server":this.data.taskStatus="等待分配服务器",this.currentIndex=1;break;case"server allocated":this.data.taskStatus="已分配服务器",this.currentIndex=2;break;case"testing":this.data.taskStatus="兼容性测试中",this.currentIndex=2;break;case"test failed":this.data.taskStatus="测试失败",this.currentIndex=2;break;case"test finished":this.data.taskStatus="测试完成",this.currentIndex=3;break;case"server release":this.data.taskStatus="服务器释放",this.currentIndex=4;break;case"certificated":this.data.taskStatus="认证结束",this.currentIndex=5;break;case"test terminated":this.data.taskStatus="测试终止",this.currentIndex=2;break;case"test done":this.data.taskStatus="测试结束",this.currentIndex=2;break;default:break}},terminateTest(){},reTest(){},openCard(e){"submitTest"===e?this.isOpen.submitInfo=!this.isOpen.submitInfo:"assignServer"===e?this.isOpen.assignServer=!this.isOpen.assignServer:"compile"===e?this.isOpen.compile=!this.isOpen.compile:"repository"===e?this.isOpen.repository=!this.isOpen.repository:"baseTest"===e?this.isOpen.baseTest=!this.isOpen.baseTest:"oecn"===e?this.isOpen.oecn=!this.isOpen.oecn:"test"===e?this.isOpen.test=!this.isOpen.test:"testSuccess"===e?this.isOpen.testSuccess=!this.isOpen.testSuccess:"serverRelease"===e?this.isOpen.serverRelease=!this.isOpen.serverRelease:"certificateEnd"===e?this.isOpen.certificateEnd=!this.isOpen.certificateEnd:"determineTest"===e?this.isOpen.determineTest=!this.isOpen.determineTest:"operateLog"===e&&(this.isOpen.operateLog=!this.isOpen.operateLog)},handelScroll(){this.scrollLeft=document.body.scrollLeft||document.documentElement.scrollLeft}},mounted(){window.addEventListener("scroll",this.handelScroll,!0),document.getElementsByTagName("body")[0].style.background="#ebf0f6"}},ue=ce,pe=(0,c.Z)(ue,a,r,!1,null,"882e801c",null),de=pe.exports},9691:function(e,t,s){s.d(t,{K:function(){return i}});var a=s(8499),r=s(1120);function i(){a.MessageBox.confirm("当前登录超时，请重新登录!","会话过期",{confirmButtonText:"确定",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1}).then((()=>{r.Z.push("/login")})).catch((()=>{}))}},6991:function(e,t,s){s.d(t,{d:function(){return r}});var a=s(8042);const r={getList(e){const t="/rest/v1/test-task/test-list";return a.Z.post(t,e)},setFailReason(e){const t="/rest/v1/test-task/set-failure-reason";return a.Z.post(t,e)},terminateTest(e){const t="/rest/v1/test-task/terminate-test";return a.Z.post(t,e)},getPreview(e,t){const s=`/rest/v1/test-task/${e}/test-preview?requestId=${t}`;return a.Z.get(s)}}},3227:function(e,t,s){e.exports=s.p+"img/orange.cbc130de.svg"}}]);
//# sourceMappingURL=795.afdea61d.js.map